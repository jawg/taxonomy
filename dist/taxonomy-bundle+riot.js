var e,t;e=this,t=function(t){"use strict";function e(t,e){return(e||document).querySelector(t)}var n,r,i=[],o={},a="yield",s="__global_mixin",u="riot-",l=["ref","data-ref"],c="data-is",p="if",f="each",d="no-reorder",h="show",m="hide",g="key",v="__riot-events__",y="string",_="object",x="undefined",b="function",w="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/svg",N=/^xlink:(\w+)/,C=typeof window===x?void 0:window,O=/^on/,k=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,E={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},L=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,T=0|(C&&C.document||{}).documentMode;function j(t){return"svg"===t?document.createElementNS(A,t):document.createElement(t)}function M(t,e,n){var r=N.exec(e);r&&r[1]?t.setAttributeNS(w,r[1],n):t.setAttribute(e,n)}var S,I,R={},P=!1;C&&(S=j("style"),I=e("style[type=riot]"),M(S,"type","text/css"),I?(I.id&&(S.id=I.id),I.parentNode.replaceChild(S,I)):document.head.appendChild(S),r=(n=S).styleSheet);var V={styleNode:n,add:function(t,e){R[e]=t,P=!0},inject:function(){if(C&&P){P=!1;var t=Object.keys(R).map(function(t){return R[t]}).join("\n");r?r.cssText=t:n.innerHTML=t}},remove:function(t){delete R[t],P=!0}},$=function(){var t=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],e=t.reduce(function(t,e){return t+e.slice(-1)},""),n=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,r=/[$\w]/;function i(t,e){for(;0<=--e&&/\s/.test(t[e]););return e}return function(o,a){var s=/.*/g,u=s.lastIndex=a++,l=s.exec(o)[0].match(n);if(l){var c=u+l[0].length,p=o[u=i(o,u)];if(u<0||~"[{(,;:?=|&!^~>%*/".indexOf(p))return c;if("."===p)"."===o[u-1]&&(a=c);else if("+"===p||"-"===p)(o[--u]!==p||(u=i(o,u))<0||!r.test(o[u]))&&(a=c);else if(~e.indexOf(p)){for(var f=u+1;0<=--u&&r.test(o[u]););~t.indexOf(o.slice(u+1,f))&&(a=c)}}return a}}(),H=function(t){var e,n,r="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),s=/(?=[[\]()*+?.^$|])/g,u=i.source+"|"+/(\/)(?![*\/])/.source,l={"(":RegExp("([()])|"+u,r),"[":RegExp("([[\\]])|"+u,r),"{":RegExp("([{}])|"+u,r)},c="{ }",p=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+u,r),c,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],f=void 0,d=[];function h(t){return t}function m(t,e){return e||(e=d),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function g(t){if(t===c)return p;var e=t.split(" ");if(2!==e.length||a.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(s,"\\").split(" ")))[4]=m(1<e[1].length?/{[\S\s]*?}/:p[4],e),e[5]=m(3<t.length?/\\({|})/g:p[5],e),e[6]=m(p[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+u,r),e[8]=t,e}function v(t){return t instanceof RegExp?e(t):d[t]}function y(t){(t||(t=c))!==d[8]&&(d=g(t),e=t===c?h:m,d[9]=e(p[9])),f=t}return v.split=function(t,e,n){n||(n=d);var r,i,o,a,s,u,c=[],p=n[6],f=[],h="";for(i=o=p.lastIndex=0;r=p.exec(t);){if(u=p.lastIndex,a=r.index,i){if(r[2]){var m=r[2],g=l[m],v=1;for(g.lastIndex=u;r=g.exec(t);)if(r[1]){if(r[1]===m)++v;else if(!--v)break}else g.lastIndex=_(r.index,g.lastIndex,r[2]);p.lastIndex=v?t.length:g.lastIndex;continue}if(!r[3]){p.lastIndex=_(a,u,r[4]);continue}}r[1]||(y(t.slice(o,a)),o=p.lastIndex,(p=n[6+(i^=1)]).lastIndex=o)}return t&&o<t.length&&y(t.slice(o)),c.qblocks=f,c;function y(t){h&&(t=h+t,h=""),e||i?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function _(n,r,i){return i&&(r=$(t,n)),e&&n+2<r&&(s="⁗"+f.length+"~",f.push(t.slice(n,r)),h+=t.slice(o,n)+s,o=r),r}},v.hasExpr=function(t){return d[4].test(t)},v.loopKeys=function(t){var e=t.match(d[9]);return e?{key:e[1],pos:e[2],val:d[0]+e[3].trim()+d[1]}:{val:t.trim()}},v.array=function(t){return t?g(t):d},Object.defineProperty(v,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:y,get:function(){return f},enumerable:!0}),n=t,y(e)},get:function(){return n}}),v.settings="undefined"!=typeof riot&&riot.settings||{},v.set=y,v.skipRegex=$,v.R_STRINGS=i,v.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,v.S_QBLOCKS=o,v.S_QBLOCK2=u,v}(),U=function(){var t={};function e(i,o){return i?(t[i]||(t[i]=function(t){var e=function(t){var e,i=H.split(t.replace(n,'"'),1),o=i.qblocks;if(2<i.length||i[0]){var s,u,l=[];for(s=u=0;s<i.length;++s)(e=i[s])&&(e=1&s?a(e,1,o):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(l[u++]=e);e=u<2?l[0]:"["+l.join(",")+'].join("")'}else e=a(i[1],0,o);return o.length&&(e=e.replace(r,function(t,e){return o[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}(i))).call(o,function(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:o,tmpl:i})):i}e.hasExpr=H.hasExpr,e.loopKeys=H.loopKeys,e.clearCache=function(){t={}},e.errorHandler=null;var n=/\u2057/g,r=/\u2057(\d+)~/g,i=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,o={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function a(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,a=[],s=0;t&&(r=t.match(i))&&!r.index;){var u,l,p=/,|([[{(])|$/g;for(t=RegExp.rightContext,u=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];l=(r=p.exec(t))[1];)f(l,p);l=t.slice(0,r.index),t=RegExp.rightContext,a[s++]=c(l,1,u)}t=s?1<s?"["+a.join(",")+'].join(" ").trim()':a[0]:c(t,e)}return t;function f(e,n){var r,i=1,a=o[e];for(a.lastIndex=n.lastIndex;r=a.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:a.lastIndex}}var s='"in this?this:'+("object"!=typeof window?"global":"window")+").",u=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function c(t,e,n){var r;return t=t.replace(u,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+s+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!l.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}return e.version=H.version="v3.0.8",e}(),B=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){return t.on(e,function r(){t.off(e,r),n.apply(t,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,s=arguments,u=arguments.length-1,l=new Array(u);for(a=0;a<u;a++)l[a]=s[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,l);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(l)),t},enumerable:!1,writable:!1,configurable:!1}}),t};function z(t,e){return Object.getOwnPropertyDescriptor(t,e)}function D(t){return typeof t===x}function F(t,e){var n=z(t,e);return D(t[e])||n&&n.writable}function K(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var o in e)F(t,o)&&(t[o]=e[o]);return t}function q(t){return Object.create(t)}var Z=K(q(H.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0});function G(t,e){return[].slice.call((e||document).querySelectorAll(t))}function Q(){return document.createTextNode("")}function W(t,e){t.style.display=e?"":"none",t.hidden=!e}function J(t,e){return t.getAttribute(e)}function X(t,e){t.removeAttribute(e)}function Y(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+A+'">'+e+"</svg>","application/xml").documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function tt(t,e){if(t)for(var n;n=k.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function et(){return document.createDocumentFragment()}function nt(t,e,n){t.insertBefore(e,n.parentNode&&n)}function rt(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function it(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,it(t,e,i),t=r}}var ot=Object.freeze({$$:G,$:e,createDOMPlaceholder:Q,mkEl:j,setAttr:M,toggleVisibility:W,getAttr:J,remAttr:X,setInnerHTML:Y,walkAttrs:tt,createFrag:et,safeInsert:nt,styleObjectToString:rt,walkNodes:it});function at(t){return D(t)||null===t}function st(t){return at(t)||""===t}function ut(t){return typeof t===b}function lt(t){return t&&typeof t===_}function ct(t){var e=t.ownerSVGElement;return!!e||null===e}function pt(t){return Array.isArray(t)||t instanceof Array}function ft(t){return L.test(t)}function dt(t){return typeof t===y}var ht=Object.freeze({isBlank:st,isFunction:ut,isObject:lt,isSvg:ct,isWritable:F,isArray:pt,isBoolAttr:ft,isNil:at,isString:dt,isUndefined:D});function mt(t,e){return-1!==t.indexOf(e)}function gt(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function vt(t,e){return t.slice(0,e.length)===e}var yt,_t=(yt=-1,function(){return++yt});function xt(t,e,n,r){return Object.defineProperty(t,e,K({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function bt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function wt(t){console&&console.warn&&console.warn(t)}var At=Object.freeze({contains:mt,each:gt,getPropDescriptor:z,startsWith:vt,uid:_t,defineProperty:xt,objectCreate:q,extend:K,toCamel:bt,warn:wt});function Nt(t,e,n,r,i){var o=t[e],a=pt(o),s=!D(i);if(!o||o!==n)if(!o&&r)t[e]=[n];else if(o)if(a){var u=o.indexOf(n);if(u===i)return;-1!==u&&o.splice(u,1),s?o.splice(i,0,n):o.push(n)}else t[e]=[o,n];else t[e]=n}function Ct(t){return t.tagName&&o[J(t,c)||J(t,c)||t.tagName.toLowerCase()]}function Ot(t,e){var n=Ct(t),r=!e&&J(t,c);return r&&!U.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function kt(){return this.parent?K(q(this),this.parent):this}var Et=/<yield\b/i,Lt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Tt=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,jt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Mt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},St=T&&T<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,It="div",Rt="svg";function Pt(t,n,r){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),a=j(r?Rt:It);return t=function(t,e){if(!Et.test(t))return t;var n={};return e=e&&e.replace(Tt,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(jt,function(t,e,r){return n[e]||r||""}).replace(Lt,function(t,n){return e||n||""})}(t,n),St.test(o)?a=function(t,n,r){var i="o"===r[0],o=i?"select>":"table>";if(t.innerHTML="<"+o+n.trim()+"</"+o,o=t.firstChild,i)o.selectedIndex=-1;else{var a=Mt[r];a&&1===o.childElementCount&&(o=e(a,o))}return o}(a,t,o):Y(a,t,r),a}var Vt=/^on/;function $t(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function Ht(t,e,n,r){var i,o=function(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(F(n,"currentTarget")&&(n.currentTarget=t),F(n,"target")&&(n.target=n.srcElement),F(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),Z.autoUpdate&&!n.preventUpdate){var o=$t(this);o.isMounted&&o.update()}}.bind(r,n,e);n[t]=null,i=t.replace(O,""),mt(r.__.listeners,n)||r.__.listeners.push(n),n[v]||(n[v]={}),n[v][t]&&n.removeEventListener(i,n[v][t]),n[v][t]=o,n.addEventListener(i,o,!1)}function Ut(t,e,n,r){var i=ye(t,e,n),o=e.tagName||Ot(e.root,!0),a=$t(r);return xt(i,"parent",a),i.__.parent=r,Nt(a.tags,o,i),a!==r&&Nt(r.tags,o,i),i}function Bt(t,e,n,r){if(pt(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else t[e]===n&&delete t[e]}function zt(t,e){var n,r,i=Q(),o=Q(),a=et();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=r=i,this.__.tail=o;r;)n=r.nextSibling,a.appendChild(r),this.__.virts.push(r),r=n;e?t.insertBefore(a,e.__.head):t.appendChild(a)}function Dt(t,e){if(e.parentNode){var n=et();zt.call(t,n),e.parentNode.replaceChild(n,e)}}function Ft(t){if(!this.root||!J(this.root,"virtualized")){var e,n,r=t.dom,i=(e=t.attr)?(e=e.replace(u,""),E[e]&&(e=E[e]),e):null,a=mt([h,m],i),s=t.root&&"VIRTUAL"===t.root.tagName,l=this.__.isAnonymous,c=r&&(t.parent||r.parentNode),p=Z.keepValueAttributes,f="style"===i,d="class"===i,g="value"===i;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),s&&Dt(t,t.root));else{if(t.update)return t.update();var v,y,_,x,b,w,A,N=a&&!l?kt.call(this):this,C=!st(n=U(t.expr,N)),O=lt(n);if(O&&(d?n=U(JSON.stringify(n),this):f&&(n=rt(n))),!t.attr||t.wasParsedOnce&&!1!==n&&(C||g&&(!g||p))||X(r,J(r,t.attr)?t.attr:i),t.bool&&(n=!!n&&i),t.isRtag)return y=this,_=n,w=((b=(v=t).tag||v.dom._tag)?b.__:{}).head,A="VIRTUAL"===v.dom.tagName,void(b&&v.tagName===_?b.update():(b&&(A&&(x=Q(),w.parentNode.insertBefore(x,w)),b.unmount(!0)),dt(_)&&(v.impl=o[_],v.impl&&(v.tag=b=Ut(v.impl,{root:v.dom,parent:y,tagName:_},v.dom.innerHTML,y),gt(v.attrs,function(t){return M(b.root,t.name,t.value)}),v.tagName=_,b.mount(),A&&Dt(b,x||b.root),y.__.onUnmount=function(){var t=b.opts.dataIs;Bt(b.parent.tags,t,b),Bt(b.__.parent.tags,t,b),b.unmount()}))));if((!t.wasParsedOnce||t.value!==n)&&(t.value=n,t.wasParsedOnce=!0,!O||d||f||a)){if(C||(n=""),!i)return n+="",void(c&&("TEXTAREA"===(t.parent=c).tagName?(c.value=n,T||(r.nodeValue=n)):r.nodeValue=n));switch(!0){case ut(n):k=i,Vt.test(k)&&Ht(i,n,r,this);break;case a:W(r,i===m?!n:n);break;default:t.bool&&(r[i]=n),g&&r.value!==n?r.value=n:C&&!1!==n&&M(r,i,n),f&&r.hidden&&W(r,!1)}var k}}}}function Kt(t){gt(t,Ft.bind(this))}function qt(t,e,n,r,i){if(!t||!n){var o=t?kt.call(this):e||this;gt(i,function(t){t.expr&&Ft.call(o,t.expr),r[bt(t.name).replace(u,"")]=t.expr?t.expr.value:t.value})}}function Zt(t){if(t)return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+c+'="'+n+'"]'},"");var e=Object.keys(o);return e+Zt(e)}function Gt(t,e){var n=this,r=n.name,i=n.tmpl,a=n.css,s=n.attrs,u=n.onCreate;return o[r]||(Qt(r,i,a,s,u),o[r].class=this.constructor),_e(t,r,e,this),a&&V.inject(),this}function Qt(t,e,n,r,i){return ut(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(ut(n)?i=n:V.add(n,t)),t=t.toLowerCase(),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Wt(t,e,n,r,i){return n&&V.add(n,t),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Jt(t,e,n){var r,i,o=[];if(V.inject(),(lt(e)||ut(e))&&(n=e,e=0),r=dt(t)?(t="*"===t?i=Zt():t+Zt(t.split(/, */)))?G(t):[]:t,"*"===e){if(e=i||Zt(),r.tagName)r=G(e,r);else{var a=[];gt(r,function(t){return a.push(G(e,t))}),r=a}e=0}return function t(r){if(r.tagName){var i,a=J(r,c);e&&a!==e&&M(r,c,a=e),(i=_e(r,a||r.tagName.toLowerCase(),ut(n)?n():n))&&o.push(i)}else r.length&&gt(r,t)}(r),o}var Xt={},Yt=Xt[s]={},te=0;function ee(t,e,n){if(lt(t))ee("__"+te+++"__",t,!0);else{var r=n?Yt:Xt;if(!e){if(D(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=ut(e)?K(e.prototype,r[t]||{})&&e:K(r[t]||{},e)}}function ne(){return gt(i,function(t){return t.update()})}function re(t){return V.remove(t),delete o[t]}var ie=Object.freeze({Tag:Gt,tag:Qt,tag2:Wt,mount:Jt,mixin:ee,update:ne,unregister:re,version:"v3.13.2"});function oe(t,e){var n,r=this.parent;r&&(pt(n=r.tags[t])?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):Nt(r.tags,t,this))}function ae(t,e){for(var n,r=this.__.head,i=et();r;)if(n=r.nextSibling,i.appendChild(r),(r=n)===this.__.tail){i.appendChild(r),t.insertBefore(i,e.__.head);break}}function se(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function ue(t,e){t.splice(e,1),this.unmount(),Bt(this.parent,this,this.__.tagName,!0)}function le(t,e,n){var r=typeof J(t,d)!==y||X(t,d),i=J(t,g),a=!!i&&U.hasExpr(i),s=Ot(t),u=o[s],l=t.parentNode,c=Q(),h=Ct(t),m=J(t,p),v=[],x=t.innerHTML,b=!o[s],w="VIRTUAL"===t.tagName,A=[];return X(t,f),X(t,g),(n=U.loopKeys(n)).isLoop=!0,m&&X(t,p),l.insertBefore(c,t),l.removeChild(t),n.update=function(){n.value=U(n.val,e);var o=n.value,l=et(),p=!pt(o)&&!dt(o),f=c.parentNode,d=[],g=p&&!!o;if(f){p&&(o=o?Object.keys(o).map(function(t){return se(n,o[t],t)}):[]);var y=0;gt(o,function(c,N){var C=N-y,O=!g&&n.key?se(n,c,N):c;if(!m||U(m,K(q(e),O))){var k,E,L=(E=c,(k=i)?a?U(k,O):E[k]:E),T=!p&&r&&typeof c===_||i,j=A.indexOf(L),M=-1===j,S=!M&&T?j:C,I=v[S],R=C>=A.length,P=T&&M||!T&&!I||!v[C];P?((I=ye(u,{parent:e,isLoop:!0,isAnonymous:b,tagName:s,root:t.cloneNode(b),item:O,index:C},x)).mount(),R?function(t,e){e?zt.call(this,t):t.appendChild(this.root)}.apply(I,[l||f,w]):function(t,e,n){n?zt.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(I,[f,v[C],w]),R||A.splice(C,0,O),v.splice(C,0,I),h&&Nt(e.tags,s,I,!0)):S!==C&&T&&((i||mt(o,A[S]))&&(function(t,e,n){n?ae.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(I,[f,v[C],w]),v.splice(C,0,v.splice(S,1)[0]),A.splice(C,0,A.splice(S,1)[0])),n.pos&&(I[n.pos]=C),!h&&I.tags&&function(t){var e=this;gt(Object.keys(this.tags),function(n){oe.apply(e.tags[n],[n,t])})}.call(I,C)),K(I.__,{item:O,index:C,parent:e}),d[C]=L,P||I.update(O)}else y++}),function(t,e,n){for(var r=e.length,i=t.length-n;i<r;)ue.apply(e[--r],[e,r])}(o,v,y),A=d.slice(),f.insertBefore(l,c)}},n.unmount=function(){gt(v,function(t){t.unmount()})},n}var ce={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=U.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&$t(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?U(this.rawValue,this.parent):this.rawValue,!st(t)&&e&&Bt(e.refs,t,n),!st(this.value)&&dt(this.value)?(e&&Nt(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&M(this.dom,this.attr,this.value)):X(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&$t(this.parent);!st(this.value)&&e&&Bt(e.refs,this.value,t)}};function pe(t,e,n,r){return q(ce).init(t,e,n,r)}function fe(t){gt(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}var de={init:function(t,e,n){X(t,p),K(this,{tag:e,expr:n,stub:Q(),pristine:t});var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=U(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=me.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&Kt.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),fe(this.expressions||[])}};function he(t,e,n){return q(de).init(t,e,n)}function me(t,e){var n=this,r=[];return it(t,function(i){var o,a,s=i.nodeType;if((e||i!==t)&&(3===s&&"STYLE"!==i.parentNode.tagName&&U.hasExpr(i.nodeValue)&&r.push({dom:i,expr:i.nodeValue}),1===s)){var u="VIRTUAL"===i.tagName;if(o=J(i,f))return u&&M(i,"loopVirtual",!0),r.push(le(i,n,o)),!1;if(o=J(i,p))return r.push(he(i,n,o)),!1;if((o=J(i,c))&&U.hasExpr(o))return r.push({isRtag:!0,expr:o,dom:i,attrs:[].slice.call(i.attributes)}),!1;if(a=Ct(i),u&&(J(i,"virtualized")&&i.parentElement.removeChild(i),a||J(i,"virtualized")||J(i,"loopVirtual")||(a={tmpl:i.outerHTML})),a&&(i!==t||e)){var l=J(i,c);if(!u||l)return l&&u&&wt("Virtual tags shouldn't be used together with the \""+c+'" attribute - https://github.com/riot/riot/issues/2511'),r.push(Ut(a,{root:i,parent:n},i.innerHTML,n)),!1;M(i,"virtualized",!0);var d=ye({tmpl:i.outerHTML},{root:i,parent:n},i.innerHTML);r.push(d)}ge.apply(n,[i,i.attributes,function(t,e){e&&r.push(e)}])}}),r}function ge(t,e,n){var r=this;gt(e,function(e){if(!e)return!1;var i,o=e.name,s=ft(o);mt(l,o)&&t.tagName.toLowerCase()!==a?i=pe(t,r,o,e.value):U.hasExpr(e.value)&&(i={dom:t,expr:e.value,attr:o,bool:s}),n(e,i)})}function ve(t){var e=this.__,n=e.isAnonymous,r=e.skipAnonymous;xt(this,"isMounted",t),n&&r||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function ye(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var r,o=e.context||{},a=e.opts||{},l=e.parent,c=e.isLoop,p=!!e.isAnonymous,f=Z.skipAnonymousTags&&p,d=e.item,h=e.index,m=t.tmpl,g=[],y=e.root,_=e.tagName||Ot(y),x="virtual"===_,b=!x&&!m;return r=b||c&&p?y:(x||(y.innerHTML=""),Pt(m,n,ct(y))),f||B(o),t.name&&y._tag&&y._tag.unmount(!0),xt(o,"__",{impl:t,root:y,skipAnonymous:f,implAttrs:[],isAnonymous:p,instAttrs:[],innerHTML:n,tagName:_,index:h,isLoop:c,isInline:b,item:d,parent:l,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",_t()],["root",y],["opts",a,{writable:!0,enumerable:!0}],["parent",l||null],["tags",{}],["refs",{}],["update",function(t){return n=t,r=g,i=(e=o).__,a={},s=e.isMounted&&!i.skipAnonymous,i.isAnonymous&&i.parent&&K(e,i.parent),K(e,n),qt.apply(e,[i.isLoop,i.parent,i.isAnonymous,a,i.instAttrs]),s&&e.isMounted&&ut(e.shouldUpdate)&&!e.shouldUpdate(n,a)||(K(e.opts,a),s&&e.trigger("update",n),Kt.call(e,r),s&&e.trigger("updated")),e;var e,n,r,i,a,s}],["mixin",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];return gt(e,function(e){var n,r,i=[],o=["init","__proto__"];e=dt(e)?ee(e):e,n=ut(e)?new e:e;for(var a=Object.getPrototypeOf(n);i=i.concat(Object.getOwnPropertyNames(r||n)),r=Object.getPrototypeOf(r||n););gt(i,function(e){if(!mt(o,e)){var r=z(n,e)||z(a,e),i=r&&(r.get||r.set);!t.hasOwnProperty(e)&&i?Object.defineProperty(t,e,r):t[e]=ut(n[e])?n[e].bind(t):n[e]}}),n.init&&n.init.bind(t)(t.opts)}),t}.apply(void 0,[o].concat(t))}],["mount",function(){return function(t,e,n,r){var i=t.__,o=i.root;o._tag=t,ge.apply(i.parent,[o,o.attributes,function(e,n){!i.isAnonymous&&ce.isPrototypeOf(n)&&(n.tag=t),e.expr=n,i.instAttrs.push(e)}]),tt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})}),ge.apply(t,[o,i.implAttrs,function(t,e){e?n.push(e):M(o,t.name,t.value)}]),qt.apply(t,[i.isLoop,i.parent,i.isAnonymous,r,i.instAttrs]);var a=ee(s);if(a&&!i.skipAnonymous)for(var u in a)a.hasOwnProperty(u)&&t.mixin(a[u]);if(i.impl.fn&&i.impl.fn.call(t,r),i.skipAnonymous||t.trigger("before-mount"),gt(me.apply(t,[e,i.isAnonymous]),function(t){return n.push(t)}),t.update(i.item),!i.isAnonymous&&!i.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(xt(t,"root",o),!i.skipAnonymous&&t.parent){var l=$t(t.parent);l.one(l.isMounted?"updated":"mount",function(){ve.call(t,!0)})}else ve.call(t,!0);return t.__.wasCreated=!0,t}(o,r,g,a)}],["unmount",function(t){return function(t,e,n){var r=t.__,o=r.root,a=i.indexOf(t),s=o.parentNode;if(r.skipAnonymous||t.trigger("before-unmount"),tt(r.impl.attrs,function(t){vt(t,u)&&(t=t.slice(u.length)),X(o,t)}),t.__.listeners.forEach(function(t){Object.keys(t[v]).forEach(function(e){t.removeEventListener(e,t[v][e])})}),-1!==a&&i.splice(a,1),r.parent&&!r.isAnonymous){var l=$t(r.parent);r.isVirtual?Object.keys(t.tags).forEach(function(e){return Bt(l.tags,e,t.tags[e])}):Bt(l.tags,r.tagName,t)}return t.__.virts&&gt(t.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),fe(n),gt(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),e?Y(o,""):s&&s.removeChild(o),r.onUnmount&&r.onUnmount(),t.isMounted||ve.call(t,!0),ve.call(t,!1),delete o._tag,t}(o,t,g)}]].reduce(function(t,e){var n=e[0],r=e[1],i=e[2];return xt(o,n,r,i),t},K(o,d))}function _e(t,e,n,r){var a,s=o[e],u=o[e].class,l=r||(u?q(u.prototype):{}),c=t._innerHTML=t._innerHTML||t.innerHTML,p=K({root:t,opts:n,context:l},{parent:n?n.parent:null});return s&&t&&(a=ye(s,p,c)),a&&a.mount&&(a.mount(!0),mt(i,a)||i.push(a)),a}var xe=Object.freeze({arrayishAdd:Nt,getTagName:Ot,inheritParentProps:kt,mountTo:_e,selectTags:Zt,arrayishRemove:Bt,getTag:Ct,initChildTag:Ut,moveChildTag:oe,makeReplaceVirtual:Dt,getImmediateCustomParentTag:$t,makeVirtual:zt,moveVirtual:ae,unmountAll:fe,createIfDirective:he,createRefDirective:pe}),be=Z,we={tmpl:U,brackets:H,styleManager:V,vdom:i,styleNode:V.styleNode,dom:ot,check:ht,misc:At,tags:xe},Ae=Gt,Ne=Qt,Ce=Wt,Oe=Jt,ke=ee,Ee=ne,Le=re,Te=B,je=K({},ie,{observable:B,settings:be,util:we});t.settings=be,t.util=we,t.Tag=Ae,t.tag=Ne,t.tag2=Ce,t.mount=Oe,t.mixin=ke,t.update=Ee,t.unregister=Le,t.version="v3.13.2",t.observable=Te,t.default=je,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot={});
!function(){function t(t,n,i){return t.call.apply(t.bind,arguments)}function n(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function i(e,o,a){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:n).apply(null,arguments)}var e=Date.now||function(){return+new Date};var o=!!window.FontFace;function a(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function s(t,n,i){(t=t.c.getElementsByTagName(n)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var a=!1,s=0;s<e.length;s+=1)if(n[o]===e[s]){a=!0;break}a||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(a=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){a=!0;break}a||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;e<o;e++)if(i[e]==n)return!0;return!1}function h(t,n,i){function e(){h&&r&&f&&(h(c),h=null)}n=a(t,"link",{rel:"stylesheet",href:n,media:"all"});var r=!1,f=!0,c=null,h=i||null;o?(n.onload=function(){r=!0,e()},n.onerror=function(){r=!0,c=Error("Stylesheet failed to load"),e()}):setTimeout(function(){r=!0,e()},0),s(t,"head",n)}function l(t,n,i,e){var o=t.c.getElementsByTagName("head")[0];if(o){var s=a(t,"script",{src:n}),r=!1;return s.onload=s.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&o.removeChild(s))},o.appendChild(s),setTimeout(function(){r||(r=!0,i&&i(Error("Script load timeout")))},e||5e3),s}return null}function u(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,g(t)}}function d(t,n){t.c=n,g(t)}function g(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function w(t,n){this.c=t,this.f=4,this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function m(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function y(t){return t.a+t.f}function b(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function x(t){var n=4,i="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?n=7:/[1-9]00/.test(e[1])&&(n=parseInt(e[1].substr(0,1),10)))),i+n}function j(t){if(t.g){var n=c(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive")),f(t.f,i,e)}_(t,"inactive")}function _(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,y(i)):t.h[n]())}function k(t,n){this.c=t,this.f=n,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function T(t){s(t.c,"body",t.a)}function S(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+m(t.c)+";font-style:"+b(t)+";font-weight:"+t.f+"00;"}function C(t,n,i,e,o,a){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=a||void 0}function A(t,n,i,e,o,a,s){this.v=t,this.B=n,this.c=i,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new k(this.c,this.s),this.h=new k(this.c,this.s),this.j=new k(this.c,this.s),this.m=new k(this.c,this.s),t=S(t=new w(this.a.c+",serif",y(this.a))),this.g.a.style.cssText=t,t=S(t=new w(this.a.c+",sans-serif",y(this.a))),this.h.a.style.cssText=t,t=S(t=new w("serif",y(this.a))),this.j.a.style.cssText=t,t=S(t=new w("sans-serif",y(this.a))),this.m.a.style.cssText=t,T(this.g),T(this.h),T(this.j),T(this.m)}v.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},C.prototype.start=function(){var t=this.c.o.document,n=this,i=e(),o=new Promise(function(o,a){!function s(){e()-i>=n.f?a():t.fonts.load(function(t){return b(t)+" "+t.f+"00 300px "+m(t.c)}(n.a),n.h).then(function(t){1<=t.length?o():setTimeout(s,25)},function(){a()})}()}),a=null,s=new Promise(function(t,i){a=setTimeout(i,n.f)});Promise.race([s,o]).then(function(){a&&(clearTimeout(a),a=null),n.g(n.a)},function(){n.j(n.a)})};var N={D:"serif",C:"sans-serif"},E=null;function W(){if(null===E){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);E=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return E}function F(t,n,i){for(var e in N)if(N.hasOwnProperty(e)&&n===t.f[N[e]]&&i===t.f[N[e]])return!0;return!1}function I(t){var n,o=t.g.a.offsetWidth,a=t.h.a.offsetWidth;(n=o===t.f.serif&&a===t.f["sans-serif"])||(n=W()&&F(t,o,a)),n?e()-t.A>=t.w?W()&&F(t,o,a)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?O(t,t.v):O(t,t.B):function(t){setTimeout(i(function(){I(this)},t),50)}(t):O(t,t.v)}function O(t,n){setTimeout(i(function(){r(this.g.a),r(this.h.a),r(this.j.a),r(this.m.a),n(this.a)},t),0)}function P(t,n,i){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=i}A.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=e(),I(this)};var B=null;function L(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),_(t,"active")):j(t.a))}function D(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function $(t,n,e,o,a){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,r=o||{};if(0===e.length&&s)j(n.a);else{n.f+=e.length,s&&(n.j=s);var c,h=[];for(c=0;c<e.length;c++){var l=e[c],u=r[l.c],p=n.a,d=l;if(p.g&&f(p.f,[p.a.c("wf",d.c,y(d).toString(),"loading")]),_(p,"fontloading",d),p=null,null===B)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);B=d?42<parseInt(d[1],10):!g}else B=!1;p=B?new C(i(n.g,n),i(n.h,n),n.c,l,n.s,u):new A(i(n.g,n),i(n.h,n),n.c,l,n.s,t,u),h.push(p)}for(c=0;c<h.length;c++)h[c].start()}},0)}function q(t,n){this.c=t,this.a=n}function H(t,n){this.c=t,this.a=n}P.prototype.g=function(t){var n=this.a;n.g&&f(n.f,[n.a.c("wf",t.c,y(t).toString(),"active")],[n.a.c("wf",t.c,y(t).toString(),"loading"),n.a.c("wf",t.c,y(t).toString(),"inactive")]),_(n,"fontactive",t),this.m=!0,L(this)},P.prototype.h=function(t){var n=this.a;if(n.g){var i=c(n.f,n.a.c("wf",t.c,y(t).toString(),"active")),e=[],o=[n.a.c("wf",t.c,y(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,y(t).toString(),"inactive")),f(n.f,e,o)}_(n,"fontinactive",t),L(this)},D.prototype.load=function(t){this.c=new function(t,n){this.a=t,this.o=n||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,n,i){var e=[],o=i.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),_(t,"loading")}(n);var e=function(t,n,i){var e,o=[];for(e in n)if(n.hasOwnProperty(e)){var a=t.c[e];a&&o.push(a(n[e],i))}return o}(t.a,i,t.c),a=new P(t.c,n,o);for(t.h=e.length,n=0,i=e.length;n<i;n++)e[n].load(function(n,i,e){$(t,a,n,i,e)})}(this,new function(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new v("-"),this.j=!1!==n.events,this.g=!1!==n.classes}(this.c,t),t)},q.prototype.load=function(t){var n=this,i=n.a.projectId,e=n.a.version;if(i){var o=n.c.o;l(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(e?"?v="+e:""),function(e){e?t([]):(o["__MonotypeConfiguration__"+i]=function(){return n.a},function n(){if(o["__mti_fntLst"+i]){var e,a=o["__mti_fntLst"+i](),s=[];if(a)for(var r=0;r<a.length;r++){var f=a[r].fontfamily;null!=a[r].fontStyle&&null!=a[r].fontWeight?(e=a[r].fontStyle+a[r].fontWeight,s.push(new w(f,e))):s.push(new w(f))}t(s)}else setTimeout(function(){n()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},H.prototype.load=function(t){var n,i,e=this.a.urls||[],o=this.a.families||[],a=this.a.testStrings||{},s=new u;for(n=0,i=e.length;n<i;n++)h(this.c,e[n],p(s));var r=[];for(n=0,i=o.length;n<i;n++)if((e=o[n].split(":"))[1])for(var f=e[1].split(","),c=0;c<f.length;c+=1)r.push(new w(e[0],f[c]));else r.push(new w(e[0]));d(s,function(){t(r,a)})};var M="https://fonts.googleapis.com/css";var z={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},G={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},K={i:"i",italic:"i",n:"n",normal:"n"},R=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function U(t,n){this.c=t,this.a=n}var V={Arimo:!0,Cousine:!0,Tinos:!0};function X(t,n){this.c=t,this.a=n}function J(t,n){this.c=t,this.f=n,this.a=[]}U.prototype.load=function(t){var n=new u,i=this.c,e=new function(t,n){this.c=t||M,this.a=[],this.f=[],this.g=n||""}(this.a.api,this.a.text),o=this.a.families;!function(t,n){for(var i=n.length,e=0;e<i;e++){var o=n[e].split(":");3==o.length&&t.f.push(o.pop());var a="";2==o.length&&""!=o[1]&&(a=":"),t.a.push(o.join(a))}}(e,o);var a=new function(t){this.f=t,this.a=[],this.c={}}(o);!function(t){for(var n=t.f.length,i=0;i<n;i++){var e=t.f[i].split(":"),o=e[0].replace(/\+/g," "),a=["n4"];if(2<=e.length){var s;if(s=[],r=e[1])for(var r,f=(r=r.split(",")).length,c=0;c<f;c++){var h;if((h=r[c]).match(/^[\w-]+$/))if(null==(u=R.exec(h.toLowerCase())))h="";else{if(h=null==(h=u[2])||""==h?"n":K[h],null==(u=u[1])||""==u)u="4";else var l=G[u],u=l||(isNaN(u)?"4":u.substr(0,1));h=[h,u].join("")}else h="";h&&s.push(h)}0<s.length&&(a=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=z[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=z[o])&&(t.c[o]=e),e=0;e<a.length;e+=1)t.a.push(new w(o,a[e]))}}(a),h(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(e),p(n)),d(n,function(){t(a.a,a.c,V)})},X.prototype.load=function(t){var n=this.a.id,i=this.c.o;n?l(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(n){if(n)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){n=i.Typekit.config.fn;for(var e=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1],r=0;r<s.length;r++)e.push(new w(a,s[r]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(e)}},2e3):t([])},J.prototype.load=function(t){var n=this.f.id,i=this.c.o,e=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(n,i){for(var o=0,a=i.fonts.length;o<a;++o){var s=i.fonts[o];e.a.push(new w(s.name,x("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},l(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+n+".js",function(n){n&&t([])})):t([])};var Q=new D(window);Q.a.c.custom=function(t,n){return new H(n,t)},Q.a.c.fontdeck=function(t,n){return new J(n,t)},Q.a.c.monotype=function(t,n){return new q(n,t)},Q.a.c.typekit=function(t,n){return new X(n,t)},Q.a.c.google=function(t,n){return new U(n,t)};var Y={load:i(Q.load,Q)};"function"==typeof define&&define.amd?define(function(){return Y}):"undefined"!=typeof module&&module.exports?module.exports=Y:(window.WebFont=Y,window.WebFontConfig&&Q.load(window.WebFontConfig))}();
const colorConverter={};colorConverter.hex={rgb:function(r){return r&&null!=r.match(/^0x([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/i)?[(r>>8)+16*(r>>8),((240&r)>>4)+16*((240&r)>>4),(15&r)+16*(15&r)]:r&&null!=r.match(/^0x([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/i)?[r>>16,(65280&r)>>8,255&r]:void 0},rgba:function(r){var n=this.rgb(r);return n?[n[0],n[1],n[2],1]:null},hsl:function(r){var n=this.rgb(r);return n?colorConverter.rgb.hsl(n):null},hsla:function(r){var n=this.hsl(r);return!n||[n[0],n[1],n[2],1]},fromString:function(r){if(r)return(r=r.replace(/^#*/,"0x"))<=16777215&&(5==r.length||8==r.length)?r:void 0},toString:function(r){if(r)return r.replace(/^(0x)?/i,"#")},isValid:function(r){return null!=this.fromString(r)}},colorConverter.rgb={hex:function(r){if(r){var n=Number(r[0]).toString(16),t=Number(r[1]).toString(16),o=Number(r[2]).toString(16);return(1===n.length?"0":"")+n+(1===t.length?"0":"")+t+(1===o.length?"0":"")+o}},rgba:function(r){return r?[r[0],r[1],r[2],1]:null},hsl:function(r){if(r&&Array.isArray(r)&&!(r.length<3)){var n=r[0]/255,t=r[1]/255,o=r[2]/255,e=Math.max(n,t,o),l=Math.min(n,t,o),i=e-l,a=0;switch(e){case l:a=0;break;case n:a=(t-o)/i+(t<o?6:0);break;case t:a=(o-n)/i+2;break;case o:a=(n-t)/i+4}var u=.5*(e+l);return[60*a,0==i?0:i/(1-Math.abs(2*u-1)),u]}},hsla:function(r){var n=this.hsl(r);return n?[n[0],n[1],n[2],1]:null},fromString:function(r){var n;if(r)return(null!=(n=(r=r.replace(/ /g,"")).match(/^rgb\(([0-9]+),([0-9]+),([0-9]+)\)$/i))||null!=(n=r.match(/^\[?([0-9]+),([0-9]+),([0-9]+)\]?$/)))&&n[1]<=255&&n[2]<=255&&n[3]<=255?[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])]:void 0},toString:function(r){if(r&&Array.isArray(r)&&3==r.length)return"rgb("+r[0]+","+r[1]+","+r[2]+")"},convertFromString:function(r){return colorConverter.hex.rgb(colorConverter.hex.fromString(r))||colorConverter.hsl.rgb(colorConverter.hsl.fromString(r))||colorConverter.rgb.fromString(r)},isValid:function(r){return null!=this.fromString(r)}},colorConverter.rgba={hex:function(r){return r?colorConverter.rgb.hex(r):null},rgb:function(r){return r?[r[0],r[1],r[2]]:null},hsl:function(r){return colorConverter.rgb.hsl(r)},hsla:function(r){var n=colorConverter.rgb.hsl(r);return n?[n[0],n[1],n[2],r[3]]:null},fromString:function(r){var n;if(r)return null!=(n=(r=r.replace(/ /g,"")).match(/^rgba\(([0-9]+),([0-9]+),([0-9]+),([0-9.]+)\)$/i))||null!=(n=r.match(/^\[?([0-9]+),([0-9]+),([0-9]+),([0-9.]+)\]?$/))?[parseInt(n[1]),parseInt(n[2]),parseInt(n[3]),parseInt(n[4])]:void 0},toString:function(r){if(r&&Array.isArray(r)&&r.length>=4)return"rgba("+Math.round(r[0])+","+Math.round(r[1])+","+Math.round(r[2])+","+r[3]+")"},isValid:function(r){return null!=this.fromString(r)}},colorConverter.hsl={hex:function(r){var n=colorConverter.hsl.rgb(r);return n?colorConverter.rgb.hex(n):null},rgb:function(r){if(r){var n,t=r[0],o=r[1],e=r[2],l=(1-Math.abs(2*e-1))*o,i=l*(1-Math.abs(t/60%2-1)),a=e-l/2;return t<60?n=[l+a,i+a,a]:t<120?n=[i+a,l+a,a]:t<180?n=[a,l+a,i+a]:t<240?n=[a,i+a,l+a]:t<300?n=[i+a,a,l+a]:t<360&&(n=[l+a,a,i+a]),n?[Math.round(255*n[0]),Math.round(255*n[1]),Math.round(255*n[2])]:void 0}},rgba:function(r){var n=this.rgb(r);return n?[n[0],n[1],n[2],1]:null},hsla:function(r){return r?[r[0],r[1],r[2],1]:null},fromString:function(r){var n;if(r&&(null!=(n=(r=r.replace(/ /g,"")).match(/^hsl\(([0-9.]+),([0-9.]+)(%?),([0-9.]+)(%?)\)$/i))||null!=(n=r.match(/^\[?([0-9.]+),([0-9.]+)(%?),([0-9.]+)(%?)\]?$/)))){var t=[parseFloat(n[1]),"%"==n[3]?n[2]/100:parseFloat(n[2]),"%"==n[5]?n[4]/100:parseFloat(n[4])];if(t[0]<360&&t[1]<=1&&t[2]<=1)return t}},toString:function(r){if(r&&Array.isArray(r)&&3==r.length)return"hsl("+(1*r[0]).toFixed(2)+", "+(100*r[1]).toFixed(2)+"%, "+(100*r[2]).toFixed(2)+"%)"},isValid:function(r){return null!=this.fromString(r)}},colorConverter.hsla={hex:function(r){return colorConverter.hsl.hex(r)},rgb:function(r){return colorConverter.hsl.rgb(r)},rgba:function(r){var n=this.rgb(r);return n?[n[0],n[1],n[2],r[3]]:null},hsl:function(r){return r?[r[0],r[1],r[2]]:null},fromString:function(r){var n;if(r&&((null!=(n=(r=r.replace(/ /g,"")).match(/^hsla\(([0-9.]+),([0-9.]+)(%?),([0-9.]+)(%?),([0-9.]+)\)$/i))||null!=(n=r.match(/^\[?([0-9.]+),([0-9.]+)(%?),([0-9.]+)(%?),([0-9.]+)\]?$/)))&&(r=[parseFloat(n[1]),"%"==n[3]?n[2]/100:parseFloat(n[2]),"%"==n[5]?n[4]/100:parseFloat(n[4]),parseFloat(n[6])])[0]<360&&r[1]<=1&&r[2]<=1))return r},toString:function(r){if(r&&Array.isArray(r)&&4==r.length)return"hsla("+(1*r[0]).toFixed(2)+", "+(100*r[1]).toFixed(2)+"%, "+(100*r[2]).toFixed(2)+"%,"+r[3]+")"},isValid:function(r){return null!=this.fromString(r)}},colorConverter.isValid=function(r){return colorConverter.hex.isValid(r)||colorConverter.rgb.isValid(r)||colorConverter.rgba.isValid(r)||colorConverter.hsl.isValid(r)||colorConverter.hsla.isValid(r)},colorConverter.getStringTypeAndValue=function(r){var n=colorConverter.hex.fromString(r),t=colorConverter.rgb.fromString(r),o=colorConverter.rgba.fromString(r),e=colorConverter.hsl.fromString(r),l=colorConverter.hsla.fromString(r);return n?{value:n,type:"hex"}:t?{value:t,type:"rgb"}:o?{value:o,type:"rgba"}:e?{value:e,type:"hsl"}:l?{value:l,type:"hsla"}:void 0},"undefined"!=typeof module&&(module.exports=colorConverter),"undefined"!=typeof window&&(window.colorConverter=colorConverter);
if(void 0===window.taxonomy){const o=window.taxonomy={};o.generateArray=function(o,t){const n=[];for(var e=o;e<t;e++)n.push(e);return n},o.zooms=o.generateArray(1,20),o.getZooms=function(t){return void 0===t?o.zooms:"number"==typeof t?[t]:"object"==typeof t&&"number"==typeof t.minzoom&&"number"==typeof t.maxzoom?o.generateArray(t.minzoom,t.maxzoom):t},o.stops={},o.stops.interpolate={number:function(o,t,n){return o*(1-n)+t*n},array:function(t,n,e){return t.map(function(t,i){return o.stops.interpolate.number(t,n[i],e)})}},o.stops.findStopLessThanOrEqualTo=function(o,t){for(var n,e,i=0,r=o.length-1,s=0;i<=r;){if(n=o[s=Math.floor((i+r)/2)][0],e=o[s+1][0],t===n||t>n&&t<e)return s;n<t?i=s+1:n>t&&(r=s-1)}return Math.max(s-1,0)},o.stops.interpolationFactor=function(o,t,n,e){const i=e-n,r=o-n;return 0===i?0:1===t||void 0===t?r/i:(Math.pow(t,r)-1)/(Math.pow(t,i)-1)},o.parseNumber=function(t,n,e){if(void 0!==t.minzoom&&e<t.minzoom||void 0!==t.maxzoom&&t.maxzoom<e)return 0;if(void 0===n)return 1;if("number"==typeof n)return n;const i=n.stops;if(1===i.length||i[0][0]>=e)return i[0][1];if(i[i.length-1][0]<=e)return i[i.length-1][1];const r=o.stops.findStopLessThanOrEqualTo(i,e),s=o.stops.interpolationFactor(e,n.base,i[r][0],i[r+1][0]),a=i[r][1],l=i[r+1][1];return+o.stops.interpolate.number(a,l,s).toFixed(2)},o.parseColor=function(t,n,e){if(void 0!==t.minzoom&&e<t.minzoom||void 0!==t.maxzoom&&t.maxzoom<e)return"#000";if(void 0===n)return"#000";if("string"==typeof n)return n;const i=n.stops;if(1===i.length||i[0][0]>=e)return i[0][1];if(i[i.length-1][0]<=e)return i[i.length-1][1];const r=o.stops.findStopLessThanOrEqualTo(i,e),s=o.stops.interpolationFactor(e,n.base,i[r][0],i[r+1][0]),a=colorConverter.getStringTypeAndValue(i[r][1]),l=colorConverter.getStringTypeAndValue(i[r+1][1]),f="rgb"===a.type?a.value:colorConverter[a.type].rgb(a.value),m="rgb"===l.type?l.value:colorConverter[l.type].rgb(l.value);return colorConverter.rgba.toString([o.stops.interpolate.number(f[0],m[0],s),o.stops.interpolate.number(f[1],m[1],s),o.stops.interpolate.number(f[2],m[2],s),1])},o.renderLine=function(t,n){const e=o.widthAndColorByZooms(t,{width:t.paint["line-width"],color:t.paint["line-color"],zooms:n,opacity:t.paint["line-opacity"]});if(t.paint["line-gap-width"]){const i=o.widthAndColorByZooms(t,{width:t.paint["line-gap-width"],color:t.paint["line-color"],zooms:n,opacity:t.paint["line-opacity"]});for(zoom in i)e[zoom].width+=i[zoom].width}return e},o.widthAndColorByZooms=function(t,n){const e=n.color||"#000",i=n.width||1,r=n.opacity,s=n.zooms||o.zooms,a={maxWidth:0};return a.id=t.id,s.forEach(function(n){const s=o.parseNumber(t,i,n);s>a.maxWidth&&(a.maxWidth=s),a[n]={width:s,color:o.parseColor(t,e,n),opacity:o.parseNumber(t,r,n)}}),a},o.borderStyleFromCasing=function(o,t,n){if(!(o&&t&&o[n]&&t[n]))return"";const e=Math.max((o[n].width-t[n].width)/2,0);return"border-top-width:"+e+"px;border-bottom-width:"+e+"px;border-top-color:"+o[n].color+";border-bottom-color:"+o[n].color+";border-top-style:solid;border-bottom-style:solid;"},o.fonts={},o.fonts._families={},o.fonts.getWeight=function(o){return/extra(- )?light/i.test(o)?200:/light/i.test(o)?300:/semi(- )?bold/i.test(o)?600:/bold/i.test(o)?700:/black/i.test(o)?900:400},o.fonts.getStyle=function(o){return/italic$/i.test(o)?"italic":"normal"},o.fonts.getFamily=function(o){const t=o.split(/( black| bold| light| regular| semi[- ]?bold| extra[- ]?light| italic)/i);return t&&t[0]?t[0]:""},o.fonts.getProps=function(t){return{family:o.fonts.getFamily(t),style:o.fonts.getStyle(t),weight:o.fonts.getWeight(t)}},o.fonts.add=function(t){o.fonts._families[t.family]=o.fonts._families[t.family]||[];const n=t.weight+("italic"==t.style?"i":"");-1==o.fonts._families[t.family].indexOf(n)&&o.fonts._families[t.family].push(n)},o.fonts.download=function(){const t=[];for(var n in o.fonts._families)t.push(n+":"+o.fonts._families[n].join(","));t.length>0&&WebFont.load({google:{families:t}})},window.addEventListener("DOMContentLoaded",function(){const o=riot.mount("taxonomy");if(o&&o[0]){const t=location&&location.hash&&location.hash.replace("#","");o[0].one("fetched",function(){const o=document.getElementById(t);o&&window.scrollTo({top:o.offsetTop,behavior:"smooth"})})}})}
riot.tag2("annotation","","","",function(t){this.root.innerHTML=this.opts.content,t.content});
riot.tag2("line-render",'<h2 id="{this.opts.group}">{this.opts.title}</h2> <div class="render-container"> <div class="render-column" each="{zoom in this.opts.zooms}"> <span class="render-header">{zoom}</span> <div if="{this.lines}" each="{line in this.lines}" class="render-item" riot-style="min-height: {this.getMinHeight(line)}px;"> <canvas riot-style="width: 55px; height: {line[zoom].width}px; background-color: {line[zoom].color}; {taxonomy.borderStyleFromCasing(this.casing[line.id], line, zoom)} opacity: {line[zoom].opacity};"></canvas> </div> </div> <div class="render-column"> <span class="render-header">id</span> <div if="{this.lines}" each="{line in this.lines}" class="render-item" riot-style="min-height: {this.getMinHeight(line)}px;"> {line.id} </div> </div> </div>',"","",function(i){const n=this;this.casing={},this.lines=this.opts.layers.filter(function(i){if(i.metadata&&i.metadata["taxonomy:group"]===n.opts.group&&("line"==i.type||i.ref)){if(!i.metadata["taxonomy:casing"]&&!i.ref)return!0;n.casing[i.metadata["taxonomy:casing"]||i.ref]=i}return!1}).map(function(i){return n.casing[i.id]&&(n.casing[i.id]=taxonomy.renderLine(n.casing[i.id],n.opts.zooms)),taxonomy.renderLine(i,n.opts.zooms)}),this.getMinHeight=function(i){const n=12+i.maxWidth+(this.casing[i.id]?this.casing[i.id].maxWidth:0);return n>25?n:25}});
riot.tag2("polygon-render",'<h2 id="{this.opts.group}">{this.opts.title}</h2> <div class="render-container"> <div if="{this.polygons}" each="{polygon in this.polygons}" class="render-item"> <canvas riot-style="width: 100px; height: 100px; background-color: {polygon.color}; {this.casing[polygon.id] ? \'border: \' + this.casing[polygon.id].width + \'px solid \' + this.casing[polygon.id].color + \';\' : \'\'} opacity: {polygon.opacity};"></canvas> <span>{polygon.id}</span> </div> </div>',"","",function(o){const i=this;this.casing={},this.polygons=this.opts.layers.filter(function(o){if(o.metadata&&o.metadata["taxonomy:group"]===i.opts.group){if("fill"==o.type&&!o.metadata["taxonomy:casing"])return!0;"line"==o.type&&o.metadata["taxonomy:casing"]&&(i.casing[o.metadata["taxonomy:casing"]]=o)}return!1}).map(function(o){return i.casing[o.id]?i.casing[o.id]={color:taxonomy.parseColor(o,i.casing[o.id].paint["line-color"],i.opts.zooms[0]),width:taxonomy.parseNumber(o,i.casing[o.id].paint["line-width"],i.opts.zooms[0]),id:i.casing[o.id].id}:o.paint["fill-outline-color"]&&(i.casing[o.id]={color:taxonomy.parseColor(o,o.paint["fill-outline-color"],i.opts.zooms[0]),width:1,id:o.id}),{color:taxonomy.parseColor(o,o.paint["fill-color"],i.opts.zooms[0]),id:o.id,opacity:taxonomy.parseNumber(o,o.paint["fill-opacity"],i.opts.zooms[0])}})});
riot.tag2("symbol-render",'<h2 id="{this.opts.group}">{this.opts.title}</h2> <div class="render-container"> <div class="render-column" each="{zoom in this.opts.zooms}"> <span class="render-header">{zoom}</span> <div if="{this.symbols}" each="{symbol in this.symbols}" class="render-item" riot-style="min-height: {this.getMinHeight(symbol)}px;"> <span riot-style="font-size: {symbol[zoom].width}px; color: {symbol[zoom].color}; {this.casing[symbol.id] && this.casing[symbol.id][zoom] ? \'text-shadow: 0 0 \' + this.casing[symbol.id][zoom].width + \'px \' + this.casing[symbol.id][zoom].color + \';\' : \'\'} {symbol.fontStyle} text-transform: {symbol[\'text-transform\']};">{symbol.example || symbol.id}</span> </div> </div> <div class="render-column"> <span class="render-header">id</span> <div if="{this.symbols}" each="{symbol in this.symbols}" class="render-item" riot-style="min-height: {this.getMinHeight(symbol)}px;"> {symbol.id} </div> </div> </div>',"","",function(t){const o=this;this.casing={},this.fontPropsToStyle=function(t){return"font-style: "+t.style+"; font-weight: "+t.weight+"; font-family: '"+t.family+"';"},this.symbols=this.opts.layers.filter(function(t){return t.metadata&&t.metadata["taxonomy:group"]===o.opts.group&&"symbol"==t.type}).map(function(t){t.paint["text-halo-color"]&&(o.casing[t.id]=taxonomy.widthAndColorByZooms(t,{width:t.paint["text-halo-width"],color:t.paint["text-halo-color"],zooms:o.opts.zooms}));const s=taxonomy.widthAndColorByZooms(t,{width:t.layout["text-size"],color:t.paint["text-color"],zooms:o.opts.zooms});s["text-transform"]=t.layout["text-transform"]||"none",s.example=t.metadata["taxonomy:example"];const i=taxonomy.fonts.getProps(t.layout["text-font"][0]);return s.fontStyle=o.fontPropsToStyle(i),taxonomy.fonts.add(i),s}),this.getMinHeight=function(t){const o=8+t.maxWidth+(this.casing[t.id]?this.casing[t.id].maxWidth:0);return o>25?o:25}});
riot.tag2("taxonomy",'<div if="{this.style && this.style.metadata}" class="container" ref="container"> <div if="{this.style.metadata[\'taxonomy:title\']}" class="taxonomy-item"> <h1>{this.style.metadata[\'taxonomy:title\']}</h1> </div> <div class="taxonomy-item" each="{group in this.style.metadata[\'taxonomy:groups\']}"> <line-render if="{group.type === \'line\'}" layers="{this.style.layers}" title="{group.title}" group="{group.id}" zooms="{taxonomy.getZooms(group.zooms)}"></line-render> <polygon-render if="{group.type === \'polygon\'}" layers="{this.style.layers}" title="{group.title}" group="{group.id}" zooms="{taxonomy.getZooms(group.zooms)}"></polygon-render> <symbol-render if="{group.type === \'symbol\'}" layers="{this.style.layers}" title="{group.title}" group="{group.id}" zooms="{taxonomy.getZooms(group.zooms)}"></symbol-render> <annotation if="{group.type === \'annotation\'}" layers="{this.style.layers}" content="{group.content}" group="{group.id}" zooms="{taxonomy.getZooms(group.zooms)}"></annotation> </div> <div style="font-size: 12px; text-align: center"> Powered by <a href="https://www.jawg.io/">Jawg<span style="color: #2999fd">Maps</span></a>. Contribute on <a href="https://github.com/jawg/taxonomy/">GitHub</a>. </div> </div>',"","",function(t){this.fetchStyleURL=function(t){var o=new XMLHttpRequest;o.addEventListener("load",function(){switch(this.status){case 200:return t(null,JSON.parse(this.responseText));case 400:return t("You sent a bad request.");case 401:return t("You are not authorized to use this geocode.");case 500:return t("This server can not answer yet.")}}),o.open("GET",this.opts.styleUrl),o.send()},this.setBackgroundColor=function(){var t=this.style.layers;for(var o in t)if("background"===t[o].type)return void(this.refs.container.style["background-color"]=t[o].paint["background-color"]||"#fff")},this.one("mount",function(){var t=this;if(!this.opts.styleUrl)return console.error("Style URL is missing");this.fetchStyleURL(function(o,e){if(o)return console.error("Error in fetch style");t.style=e,t.update()})}),this.on("updated",function(){this.setBackgroundColor(),taxonomy.fonts.download(),this.trigger("fetched")})});